# üõ†Ô∏è –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è AdGuard Home

–≠—Ç–æ—Ç Bash-—Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ [AdGuard Home](https://adguard.com/ru/adguard-home-overview.html) –Ω–∞ Linux-—Å–µ—Ä–≤–µ—Ä–∞—Ö. –û–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏, —Å–∫–∞—á–∏–≤–∞–µ—Ç –µ—ë, —Å–æ–∑–¥–∞—ë—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –¥–∞–Ω–Ω—ã—Ö, –∞ —Ç–∞–∫–∂–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–º–∏ –∫–æ–ø–∏—è–º–∏, —Å–æ—Ö—Ä–∞–Ω—è—è —Ç–æ–ª—å–∫–æ –¥–≤–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ. –°–∫—Ä–∏–ø—Ç –≤–∫–ª—é—á–∞–µ—Ç —Ç—â–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —É—Å–ª–æ–≤–∏–π, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –Ω–∞–¥—ë–∂–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä–∞–±–æ—á–∏—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö, –∞ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ø—Ä–æ—â–∞–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É.

---

## üìö –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
  - [–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏](#–ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
  - [–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Å–∏—Å—Ç–µ–º–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
  - [–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã](#–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª—É–∂–±—ã AdGuard Home](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-—Å–ª—É–∂–±—ã-adguard-home)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
  - [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–±–æ—Ç–∞)
  - [–ü–æ–≤–µ–¥–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π](#–ø–æ–≤–µ–¥–µ–Ω–∏–µ-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
  - [–ü—Ä–∏–º–µ—Ä—ã Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π](#–ø—Ä–∏–º–µ—Ä—ã-telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- [–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Cron](#–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è-—á–µ—Ä–µ–∑-cron)
- [–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏](#—Ä–µ–∑–µ—Ä–≤–Ω—ã–µ-–∫–æ–ø–∏–∏)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∞–º–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ª–æ–≥–∞–º–∏)
- [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)
- [–í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç](#–≤–∫–ª–∞–¥-–≤-–ø—Ä–æ–µ–∫—Ç)
- [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)
- [–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏](#–±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏)

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ üöÄ

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏**: –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é AdGuard Home —á–µ—Ä–µ–∑ GitHub API.
- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–ª—É–∂–±—É —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
- üßπ **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ–∑–¥–∞—ë—Ç –∫–æ–ø–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`AdGuardHome.yaml`) –∏ –¥–∞–Ω–Ω—ã—Ö (`data/`) –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º.
- üì¶ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ø–∏—è–º–∏**: –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏, —Å–æ—Ö—Ä–∞–Ω—è—è —Ç–æ–ª—å–∫–æ –¥–≤–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ.
- üìú **–ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –ª–æ–≥–∏**: –ö—Ä–∞—Ç–∫–∏–π –ª–æ–≥ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –ø–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏–ª–∏ –æ—à–∏–±–∫–µ.
- üîÑ **–†–µ–∑–µ—Ä–≤–Ω—ã–π —Ñ–∞–π–ª**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª (`/tmp/test.tar.gz`), –µ—Å–ª–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å.
- üß™ **–ü–æ–ª–Ω—ã–µ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Ç–∏–ª–∏—Ç—ã, —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ, —Å–µ—Ç—å, DNS, –Ω–∞–ª–∏—á–∏–µ —Å–ª—É–∂–±—ã –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π (–±–µ–∑ –ª–∏—à–Ω–µ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è).
- üåê **–ì–∏–±–∫–∏–π DNS**: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É DNS-—Å–µ—Ä–≤–µ—Ä–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é Cloudflare, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ø–Ω–¥–µ–∫—Å DNS –∏–ª–∏ –¥—Ä—É–≥–∏–µ).
- üì≤ **Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫—Ä–∞—Ç–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —ç–º–æ–¥–∑–∏ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ (‚úÖ), –ø–æ–¥—Ä–æ–±–Ω—ã–π –ª–æ–≥ —Ç–µ–∫—É—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∫–æ–¥–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ (‚ùå) –∏–ª–∏ –∫—Ä–∞—Ç–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –≤–µ—Ä—Å–∏—è–º–∏ –ø—Ä–∏ `--telegram` (‚ÑπÔ∏è).

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è üìã

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã:

```bash
sudo apt update
sudo apt install curl jq tar dnsutils
```

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–ü—Ä–∞–≤–∞ root**: –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∞–º–∏ root (—á–µ—Ä–µ–∑ `sudo`).
- **AdGuard Home**: –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (`/opt/AdGuardHome`).
- **–°–ª—É–∂–±–∞ AdGuard Home**: –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∫–∞–∫ systemd-—Å–ª—É–∂–±–∞ (`adguardhome.service`).
- **–î–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç**: –ù–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ GitHub –∏ Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.
- **–°–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ**: –ú–∏–Ω–∏–º—É–º 50 –ú–ë –≤ `/tmp` –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –∫–æ–ø–∏–π.

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è `linux_amd64`. –î–ª—è –¥—Ä—É–≥–∏—Ö> –¥—Ä—É–≥–∏—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `linux_arm64`) –∏–∑–º–µ–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `ARCH` –≤ —Å–∫—Ä–∏–ø—Ç–µ.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ üõ†Ô∏è

1. **–°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç**:
   –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ `update-adguardhome.sh`:
   ```bash
   git clone https://github.com/wobujidao/adguardhome-auto-update.git
   cd adguardhome-auto-update
   ```

2. **–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é**:
   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤ `/usr/local/bin`:
   ```bash
   sudo cp update-adguardhome.sh /usr/local/bin/update-adguardhome.sh
   ```

3. **–°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º**:
   –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:
   ```bash
   sudo chmod +x /usr/local/bin/update-adguardhome.sh
   ```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª—É–∂–±—ã AdGuard Home ‚öôÔ∏è

–°–∫—Ä–∏–ø—Ç —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã AdGuard Home –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ —Å–ª—É–∂–±–∞ systemd (`adguardhome.service`). –ï—Å–ª–∏ —Å–ª—É–∂–±–∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞, —Å–∫—Ä–∏–ø—Ç –≤—ã–≤–µ–¥–µ—Ç –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è.

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª—É–∂–±—ã

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å–ª—É–∂–±—ã:
   ```bash
   sudo nano /etc/systemd/system/adguardhome.service
   ```

2. –í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
   ```ini
   [Unit]
   Description=AdGuard Home DNS Service
   After=network-online.target
   Wants=network-online.target

   [Service]
   User=adguard
   Group=adguard
   ExecStart=/opt/AdGuardHome/AdGuardHome -c /opt/AdGuardHome/AdGuardHome.yaml
   Restart=on-failure
   RestartSec=5
   AmbientCapabilities=CAP_NET_BIND_SERVICE
   CapabilityBoundingSet=CAP_NET_BIND_SERVICE
   ReadWritePaths=/opt/AdGuardHome

   [Install]
   WantedBy=multi-user.target
   ```

3. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≥—Ä—É–ø–ø—É `adguard`, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç:
   ```bash
   sudo groupadd -r adguard
   sudo useradd -r -g adguard -d /opt/AdGuardHome -s /sbin/nologin adguard
   ```

4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞:
   ```bash
   sudo chown -R adguard:adguard /opt/AdGuardHome
   sudo chmod -R 755 /opt/AdGuardHome
   ```

5. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–ª—É–∂–±—É:
   ```bash
   sudo systemctl daemon-reload
   sudo systemctl enable --now adguardhome.service
   ```

6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã:
   ```bash
   systemctl status adguardhome.service
   ```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π üì≤

–°–∫—Ä–∏–ø—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–µ—Ä–∞ –∏ —ç–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–ª–∏—á–∏—è. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–∫–ª—é—á–µ–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –≤–∫–ª—é—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `--telegram`.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞

1. –°–æ–∑–¥–∞–π—Ç–µ Telegram-–±–æ—Ç–∞ —á–µ—Ä–µ–∑ [BotFather](https://t.me/BotFather):
   - –ù–∞–ø–∏—à–∏—Ç–µ `/start` –∏ `/newbot`.
   - –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º, –∑–∞–¥–∞–π—Ç–µ –∏–º—è –∏ –ø–æ–ª—É—á–∏—Ç–µ `TELEGRAM_BOT_TOKEN` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11`).
2. –ü–æ–ª—É—á–∏—Ç–µ `TELEGRAM_CHAT_ID`:
   - –î–ª—è –ª–∏—á–Ω–æ–≥–æ —á–∞—Ç–∞: –Ω–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É, –∑–∞—Ç–µ–º –∑–∞–ø—Ä–æ—Å–∏—Ç–µ ID —á–µ—Ä–µ–∑ [GetIDs Bot](https://t.me/getidsbot).
   - –î–ª—è –∫–∞–Ω–∞–ª–∞: –¥–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ID –∫–∞–Ω–∞–ª–∞ (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `@` –∏–ª–∏ —á–∏—Å–ª–æ–≤–æ–π ID).
3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
   ```bash
   sudo nano /usr/local/bin/update-adguardhome.sh
   ```
   –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
   ```bash
   ENABLE_TELEGRAM="true"
   TELEGRAM_BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω"
   TELEGRAM_CHAT_ID="–≤–∞—à_—á–∞—Ç_id"
   SERVER_NAME="vpn.demidov.info"  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω–æ–µ –∏–º—è —Ö–æ—Å—Ç–∞
   ```
   –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

- **–ü—Ä–∏ —É—Å–ø–µ—Ö–µ**: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫—Ä–∞—Ç–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å ‚úÖ: ¬´‚úÖ AdGuard –Ω–∞ [–∏–º—è_—Å–µ—Ä–≤–µ—Ä–∞] –æ–±–Ω–æ–≤–ª—ë–Ω –¥–æ –≤–µ—Ä—Å–∏–∏ [–≤–µ—Ä—Å–∏—è]¬ª.
- **–ü—Ä–∏ –æ—à–∏–±–∫–µ**: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ª–æ–≥ —Ç–µ–∫—É—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∫–æ–¥–∞ (```–ª–æ–≥```) —Å ‚ùå: ¬´‚ùå –û—à–∏–±–∫–∞ –Ω–∞ [–∏–º—è_—Å–µ—Ä–≤–µ—Ä–∞]: <–ª–æ–≥>¬ª.
- **–° –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `--telegram`**: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫—Ä–∞—Ç–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å ‚ÑπÔ∏è: ¬´‚ÑπÔ∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è AdGuard Home –Ω–∞ [–∏–º—è_—Å–µ—Ä–≤–µ—Ä–∞]: –≤–µ—Ä—Å–∏—è [–¥–æ—Å—Ç—É–ø–Ω–∞—è], —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ [—Ç–µ–∫—É—â–∞—è], –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è¬ª.
- **–î—Ä—É–≥–∏–µ —Å–ª—É—á–∞–∏**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è, –µ—Å–ª–∏ `ENABLE_TELEGRAM="false"` –∏ `--telegram` –Ω–µ —É–∫–∞–∑–∞–Ω.

### –ü—Ä–∏–º–µ—Ä—ã Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

- **–£—Å–ø–µ—Ö**:
  ```
  ‚úÖ AdGuard –Ω–∞ vpn.demidov.info –æ–±–Ω–æ–≤–ª—ë–Ω –¥–æ –≤–µ—Ä—Å–∏–∏ v0.107.62
  ```
- **–û—à–∏–±–∫–∞**:
  ```
  ‚ùå –û—à–∏–±–∫–∞ –Ω–∞ vpn.demidov.info:
  ```
  [2025-04-29 17:26:58] [vpn.demidov.info] –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è AdGuard Home...
  [2025-04-29 17:26:58] [vpn.demidov.info] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏ AdGuard Home...
  [2025-04-29 17:26:58] [vpn.demidov.info] –û—à–∏–±–∫–∞: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏...
  [2025-04-29 17:26:58] [vpn.demidov.info] –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏: [–û–®–ò–ë–ö–ê]
  [2025-04-29 17:26:58] [vpn.demidov.info] +----------------------------------+--------+
  [2025-04-29 17:26:58] [vpn.demidov.info] | –û–ø–µ—Ä–∞—Ü–∏—è                         | –°—Ç–∞—Ç—É—Å |
  [2025-04-29 17:26:58] [vpn.demidov.info] +----------------------------------+--------+
  [2025-04-29 17:26:58] [vpn.demidov.info] | –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏                  | [–û–®–ò–ë–ö–ê]|
  [2025-04-29 17:26:58] [vpn.demidov.info] +----------------------------------+--------+
  ```
- **–° `--telegram`**:
  ```
  ‚ÑπÔ∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è AdGuard Home –Ω–∞ vpn.demidov.info: –≤–µ—Ä—Å–∏—è v0.107.61, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ v0.107.61, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
  ```

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üéÆ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤—Ä—É—á–Ω—É—é –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:
```bash
sudo /usr/local/bin/update-adguardhome.sh
```

–î–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `--telegram`:
```bash
sudo /usr/local/bin/update-adguardhome.sh --telegram
```

–°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∏ —Å–æ–∑–¥–∞—ë—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –ª–æ–≥-—Ñ–∞–π–ª.
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä –ª–æ–≥-—Ñ–∞–π–ª–∞ –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç –µ–≥–æ, –µ—Å–ª–∏ –æ–Ω –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë.
3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —É—Ç–∏–ª–∏—Ç, —Å–ª—É–∂–±—ã, —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞, —Å–µ—Ç–∏ –∏ DNS (–ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏).
4. –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏, –æ—Å—Ç–∞–≤–ª—è—è –¥–≤–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ.
5. –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é –∏ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏–∏ AdGuard Home.
6. –°–∫–∞—á–∏–≤–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Ñ–∞–π–ª).
7. –°–æ–∑–¥–∞—ë—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –¥–∞–Ω–Ω—ã—Ö.
8. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–ª—É–∂–±—É, –æ–±–Ω–æ–≤–ª—è–µ—Ç –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–ª—É–∂–±—É.
9. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram:
   - –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å ‚úÖ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.
   - –ü–æ–ª–Ω—ã–π –ª–æ–≥ —Ç–µ–∫—É—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∫–æ–¥–∞ —Å ‚ùå –ø—Ä–∏ –æ—à–∏–±–∫–µ.
   - –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –≤–µ—Ä—Å–∏—è–º–∏ —Å ‚ÑπÔ∏è –ø—Ä–∏ `--telegram`.
10. –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –≤ `/var/log/adguardhome-update.log`:
    - –ö—Ä–∞—Ç–∫–∏–π –ª–æ–≥ –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –≤–µ—Ä—Å–∏–π.
    - –ü–æ–¥—Ä–æ–±–Ω—ã–π –ª–æ–≥ —Å —Ç–∞–±–ª–∏—Ü–µ–π –æ–ø–µ—Ä–∞—Ü–∏–π –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏–ª–∏ –æ—à–∏–±–∫–µ.
    - –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏.

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

- **–ë–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**:
  ```
  [vpn.demidov.info] –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è AdGuard Home...
  [vpn.demidov.info] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏ AdGuard Home...
  [vpn.demidov.info] –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏: [–û–ö (v0.107.61)]
  [vpn.demidov.info] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏: v0.107.61, —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–∫—É—â–µ–π [–û–ö]
  ```
- **–° –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∏–ª–∏ –æ—à–∏–±–∫–æ–π**:
  ```
  [vpn.demidov.info] –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è AdGuard Home...
  [vpn.demidov.info] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏ AdGuard Home...
  [vpn.demidov.info] –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏: [–û–ö (v0.107.62)]
  [vpn.demidov.info] –î–æ—Å—Ç—É–ø–Ω–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è v0.107.62, —Ç–µ–∫—É—â–∞—è v0.107.61, –Ω–∞—á–∏–Ω–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ...
  [vpn.demidov.info] –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ...
  [vpn.demidov.info] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–∫–∞: [–û–ö]
  [vpn.demidov.info] –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π...
  [vpn.demidov.info] –û—á–∏—Å—Ç–∫–∞ –∫–æ–ø–∏–π: [–û–ö (2 –∫–æ–ø–∏–π)]
  ...
  [vpn.demidov.info] –ù–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è: v0.107.62
  [vpn.demidov.info] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏: [–û–ö]
  [vpn.demidov.info] +----------------------------------+--------+
  [vpn.demidov.info] | –û–ø–µ—Ä–∞—Ü–∏—è                         | –°—Ç–∞—Ç—É—Å |
  [vpn.demidov.info] +----------------------------------+--------+
  [vpn.demidov.info] | –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏                  | [–û–ö]   |
  [vpn.demidov.info] | –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–∫–∞                   | [–û–ö]   |
  [vpn.demidov.info] | –û—á–∏—Å—Ç–∫–∞ –∫–æ–ø–∏–π                    | [–û–ö]   |
  ...
  [vpn.demidov.info] +----------------------------------+--------+
  ```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ üîß

–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ `update-adguardhome.sh`:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è          | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é                      | –û–ø–∏—Å–∞–Ω–∏–µ                                        |
|---------------------|-------------------------------------------|-------------------------------------------------|
| `AGH_PATH`          | `/opt/AdGuardHome`                        | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ AdGuard Home.              |
| `TEMP_DIR`          | `/tmp/AdGuardHome_update`                 | –í—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è.            |
| `BACKUP_DIR`        | `/tmp/AdGuard-backup`                     | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π.        |
| `LOG_FILE`          | `/var/log/adguardhome-update.log`         | –§–∞–π–ª –ª–æ–≥–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π —Å–∫—Ä–∏–ø—Ç–∞.                   |
| `CURRENT_LOG`       | `/tmp/adguardhome-current.log`            | –í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –ª–æ–≥–∞ —Ç–µ–∫—É—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.       |
| `MAX_LOG_SIZE`      | `1048576` (1 –ú–ë)                          | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ª–æ–≥-—Ñ–∞–π–ª–∞ –≤ –±–∞–π—Ç–∞—Ö.         |
| `ARCH`              | `linux_amd64`                             | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ AdGuard Home.       |
| `FALLBACK_FILE`     | `/tmp/test.tar.gz`                        | –†–µ–∑–µ—Ä–≤–Ω—ã–π –∞—Ä—Ö–∏–≤ –ø—Ä–∏ —Å–±–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è.            |
| `FALLBACK_VERSION`  | `v0.107.61`                               | –†–µ–∑–µ—Ä–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ GitHub API.  |
| `DNS_SERVERS`       | `1.1.1.1` (Cloudflare)                    | DNS-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ `77.88.8.8` –¥–ª—è –Ø–Ω–¥–µ–∫—Å DNS). |
| `ENABLE_TELEGRAM`   | `false`                                   | –í–∫–ª—é—á–µ–Ω–∏–µ Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (`true`/`false`). |
| `TELEGRAM_BOT_TOKEN`| `""`                                      | –¢–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞.                            |
| `TELEGRAM_CHAT_ID`  | `""`                                      | ID —á–∞—Ç–∞ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.       |
| `SERVER_NAME`       | `""` (–±–µ—Ä—ë—Ç—Å—è `hostname`)                 | –ò–º—è —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –ª–æ–≥–æ–≤ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.            |

–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ø–Ω–¥–µ–∫—Å DNS, –≤–∫–ª—é—á–µ–Ω–∏—è Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ —É–∫–∞–∑–∞–Ω–∏—è –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–µ—Ä–∞, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```bash
sudo nano /usr/local/bin/update-adguardhome.sh
```
–ü—Ä–∏–º–µ—Ä:
```bash
DNS_SERVERS="77.88.8.8"
ENABLE_TELEGRAM="true"
TELEGRAM_BOT_TOKEN="123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11"
TELEGRAM_CHAT_ID="123456789"
SERVER_NAME="vpn.demidov.info"
```

---

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Cron ‚è∞

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞–¥–∞—á—É `cron`. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤ 12:00 –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–ø–∏—è–º–∏.

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä `cron`:
   ```bash
   sudo crontab -e
   ```

2. –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 12:00:
   ```bash
   0 12 * * * /usr/local/bin/update-adguardhome.sh >> /var/log/adguardhome-update.log 2>&1
   ```

3. –î–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –¥–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `--telegram`:
   ```bash
   0 12 * * * /usr/local/bin/update-adguardhome.sh --telegram >> /var/log/adguardhome-update.log 2>&1
   ```

4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–¥–∞—á—É:
   ```bash
   crontab -l
   ```

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–¥–∞—Ç—å –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ 14:15:
```bash
15 14 * * * /usr/local/bin/update-adguardhome.sh --telegram >> /var/log/adguardhome-update.log 2>&1
```
–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∞ –≤–µ—Ä–Ω–∏—Ç–µ –∑–∞–¥–∞—á—É –Ω–∞ 12:00.

---

## –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ üíæ

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—ë—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`AdGuardHome.yaml`) –∏ –¥–∞–Ω–Ω—ã—Ö (`data/`) –≤ `/tmp/AdGuard-backup/backup_–ì–ì–ì–ì–ú–ú–î–î_–ß–ß–ú–ú–°–°` –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º. –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–≤–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–ø–∏–∏, —Å—Ç–∞—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ `/tmp` –º–æ–∂–µ—Ç –æ—á–∏—â–∞—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã.

- **–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–ø–∏–π**:
  ```bash
  ls -l /tmp/AdGuard-backup
  ```

- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–ø–∏–π –≤—Ä—É—á–Ω—É—é** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
  ```bash
  sudo rm -rf /tmp/AdGuard-backup/backup_–ì–ì–ì–ì–ú–ú–î–î_–ß–ß–ú–ú–°–°
  ```

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∞–º–∏ üìú

–°–∫—Ä–∏–ø—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –≤ `/var/log/adguardhome-update.log`:
- –ü—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –≤–µ—Ä—Å–∏–π: –∫—Ä–∞—Ç–∫–∏–π –ª–æ–≥ (¬´–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏: [–≤–µ—Ä—Å–∏—è], —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–∫—É—â–µ–π [–û–ö]¬ª).
- –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏–ª–∏ –æ—à–∏–±–∫–µ: –ø–æ–¥—Ä–æ–±–Ω—ã–π –ª–æ–≥ —Å —Ç–∞–±–ª–∏—Ü–µ–π –æ–ø–µ—Ä–∞—Ü–∏–π –∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏ `[–û–ö]` –∏–ª–∏ `[–û–®–ò–ë–ö–ê]`.
- –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —á—Ç–µ–Ω–∏—è.

–õ–æ–≥ —Ç–µ–∫—É—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `/tmp/adguardhome-current.log` –¥–ª—è Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π. –ï—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1 –ú–ë, –æ–Ω –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç—Å—è. –ï—Å–ª–∏ –ª–æ–≥-—Ñ–∞–π–ª –∏–ª–∏ –µ–≥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç, –æ–Ω–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

- **–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤**:
  ```bash
  cat /var/log/adguardhome-update.log
  ```

- **–†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
  ```bash
  sudo : > /var/log/adguardhome-update.log
  ```

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ üõ†Ô∏è

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥:
```bash
cat /var/log/adguardhome-update.log
```

### –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ª—É–∂–±—ã**:
   - –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç —Å–æ–æ–±—â–∞–µ—Ç, —á—Ç–æ `adguardhome.service` –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª—É–∂–±—ã AdGuard Home¬ª.

2. **–û—à–∏–±–∫–∏ DNS**:
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É–∫–∞–∑–∞–Ω–Ω—ã–π DNS-—Å–µ—Ä–≤–µ—Ä (`DNS_SERVERS`) –¥–æ—Å—Ç—É–ø–µ–Ω:
     ```bash
     nslookup static.adguard.com $DNS_SERVERS
     ```
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π DNS, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ø–Ω–¥–µ–∫—Å DNS (`77.88.8.8`).

3. **–û—à–∏–±–∫–∏ GitHub API**:
   - –ï—Å–ª–∏ –ª–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç `jq: parse error` –∏–ª–∏ HTTP-–æ—à–∏–±–∫–∏ (403, 429), GitHub API –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `FALLBACK_VERSION` (`v0.107.61`).
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –≤—Ä—É—á–Ω—É—é:
     ```bash
     curl -s -L https://api.github.com/repos/AdguardTeam/AdGuardHome/releases/latest
     ```

4. **–°–±–æ–π —Å–∫–∞—á–∏–≤–∞–Ω–∏—è**:
   - –ï—Å–ª–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å `static.adguard.com` –Ω–µ —É–¥–∞–ª–æ—Å—å, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Ñ–∞–π–ª:
     ```bash
     ls -l /tmp/test.tar.gz
     ```
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤—Ä—É—á–Ω—É—é:
     ```bash
     curl -L -s -o /tmp/test.tar.gz https://static.adguard.com/adguardhome/release/AdGuardHome_linux_amd64.tar.gz --resolve static.adguard.com:443:104.21.3.203
     ```

5. **–ü—Ä–æ–±–ª–µ–º—ã —Å Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏**:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥ –Ω–∞ –æ—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏:
     ```bash
     grep -E "–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è|–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ Telegram API" /var/log/adguardhome-update.log
     ```
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `TELEGRAM_BOT_TOKEN`, `TELEGRAM_CHAT_ID` –∏ `SERVER_NAME` —É–∫–∞–∑–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
     ```bash
     cat /usr/local/bin/update-adguardhome.sh | grep TELEGRAM
     cat /usr/local/bin/update-adguardhome.sh | grep SERVER_NAME
     ```
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Telegram API:
     ```bash
     curl -s https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/getMe
     ```
     –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç `"ok":true`, —Ç–æ–∫–µ–Ω –≤–∞–ª–∏–¥–µ–Ω. –ï—Å–ª–∏ –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ [BotFather](https://t.me/BotFather).
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ —á–∞—Ç/–∫–∞–Ω–∞–ª –∏ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è.
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Telegram API:
     ```bash
     ping -c 3 api.telegram.org
     ```
     –ï—Å–ª–∏ –Ω–µ—Ç –æ—Ç–≤–µ—Ç–∞, –≤–æ–∑–º–æ–∂–Ω–æ, Telegram API –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤ –≤–∞—à–µ–π —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏ –∏–ª–∏ VPN.
   - –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--telegram`:
     ```bash
     sudo /usr/local/bin/update-adguardhome.sh --telegram
     ```

6. **–°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è `curl`**:
   - –°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `--resolve` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π `curl`. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é:
     ```bash
     curl --version
     ```
   - –û–±–Ω–æ–≤–∏—Ç–µ `curl`, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ:
     ```bash
     sudo apt update
     sudo apt install curl
     ```

---

## –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç ü§ù

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è –ª—é–±–æ–π –≤–∫–ª–∞–¥! –ß—Ç–æ–±—ã –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. –°–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è: https://github.com/wobujidao/adguardhome-auto-update
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (`git checkout -b feature/–≤–∞—à–∞-—Ñ–∏—á–∞`).
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m "–î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞—à–∞ —Ñ–∏—á–∞"`).
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤–µ—Ç–∫—É –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (`git push origin feature/–≤–∞—à–∞-—Ñ–∏—á–∞`).
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request.

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –¥–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —ç—Ç–æ—Ç README –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è üìú

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º. –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).

---

## –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ üôè

- [AdGuard Team](https://github.com/AdguardTeam/AdGuardHome) –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ AdGuard Home.
- [Cloudflare](https://1.1.1.1) –∑–∞ –Ω–∞–¥—ë–∂–Ω—ã–π DNS-—Å–µ—Ä–≤–∏—Å.
- [–Ø–Ω–¥–µ–∫—Å](https://dns.yandex.ru) –∑–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π DNS-—Å–µ—Ä–≤–∏—Å.
- –ò–¥–µ—è –ø—Ä–æ–µ–∫—Ç–∞ –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–∞–±–æ—á–∏—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö.

---

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –æ–∫–∞–∑–∞–ª—Å—è –ø–æ–ª–µ–∑–Ω—ã–º, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é –Ω–∞ GitHub: https://github.com/wobujidao/adguardhome-auto-update! –î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º —Å–æ–∑–¥–∞–π—Ç–µ Issue –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–≤—Ç–æ—Ä–æ–º.
